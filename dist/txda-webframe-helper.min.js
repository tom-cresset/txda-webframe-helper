var txdaWebframeHelper=(()=>{var i=Object.defineProperty;var d=e=>i(e,"__esModule",{value:!0});var g=(e,s)=>{d(e);for(var t in s)i(e,t,{get:s[t],enumerable:!0})};var m={};g(m,{initialize:()=>p});var o=(e,s)=>{s._message&&e.addEventListener("message",t=>{s._message?.(t)}),s.connectionEstablished&&e.addEventListener("message",t=>{t.data?.messageType==="txdaConnectionAcknowledgement"&&s.connectionEstablished?.()}),s.updateCurrentDesign&&e.addEventListener("message",t=>{if(t.data?.messageType==="txdaCurrentDesign"){let{metaData:a,data:n}=t.data;s.updateCurrentDesign?.(n,a)}})};var p=(e,s={})=>new Promise((t,a)=>{e==="*"&&a("Specific target origins must be specified to connect to TXDA installs"),window.addEventListener("message",n=>{if(n.data?.messageType==="txdaMessagePortTransfer"){n.origin!==e&&a("Attempted TXDA connection event from unauthorized origin");let r=n.ports[0];o(r,s),r.start(),r.postMessage({messageType:"txdaRequestCurrentDesign"}),t({port:r,requestCurrentDesign:()=>r.postMessage({messageType:"txdaRequestCurrentDesign"})})}}),window.parent.postMessage({messageType:"txdaConnectionRequest",windowName:window.name},e),setTimeout(()=>{a("Connection to TXDA failed (timed out)")},1e4)});return m;})();
//# sourceMappingURL=txda-webframe-helper.min.js.map
