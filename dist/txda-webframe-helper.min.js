var txdaWebframeHelper=(()=>{var o=Object.defineProperty;var d=e=>o(e,"__esModule",{value:!0});var g=(e,t)=>{d(e);for(var s in t)o(e,s,{get:t[s],enumerable:!0})};var m={};g(m,{initialize:()=>c});var r=(e,t)=>{t._message&&e.addEventListener("message",s=>{t._message?.(s)}),t.connectionEstablished&&e.addEventListener("message",s=>{s.data?.messageType==="txdaConnectionAcknowledgement"&&t.connectionEstablished?.()}),t.updateCurrentDesign&&e.addEventListener("message",s=>{if(s.data?.messageType==="txdaCurrentDesign"){let{metaData:a,data:i}=s.data;t.updateCurrentDesign?.(i,a)}})};var c=(e,t={})=>new Promise((s,a)=>{if(e==="*"){a("Specific target origins must be specified to connect to TXDA installs");return}window.addEventListener("message",i=>{if(i.data?.messageType==="txdaMessagePortTransfer"){if(i.origin!==e){a("Attempted TXDA connection event from unauthorized origin");return}let n=i.ports[0];r(n,t),n.start(),n.postMessage({messageType:"txdaRequestCurrentDesign"}),s({port:n,requestCurrentDesign:()=>n.postMessage({messageType:"txdaRequestCurrentDesign"}),disconnect:()=>n.close()})}}),window.parent.postMessage({messageType:"txdaConnectionRequest",windowName:window.name},e),setTimeout(()=>{a("Connection to TXDA failed (timed out)")},1e4)});return m;})();
//# sourceMappingURL=txda-webframe-helper.min.js.map
